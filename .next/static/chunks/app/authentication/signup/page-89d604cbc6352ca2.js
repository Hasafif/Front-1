(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{9882:function(e,a,s){Promise.resolve().then(s.bind(s,5335))},5335:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return d}});var r=s(7437);s(6471);var n=s(2265),t=s(7908),i=e=>{var a,s,r,n;let t={username:"",password:"",email:""},i=null===(a=e.username)||void 0===a?void 0:a.toString(),o=null===(s=e.email)||void 0===s?void 0:s.toString(),l=null===(r=e.password)||void 0===r?void 0:r.toString(),u=null===(n=e.passwordC)||void 0===n?void 0:n.toString();if(i&&""!==i?i.length<4&&(t.username="Username should be minimum 4 characters"):t.username="Username is required",o?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.toLowerCase())||(t.email="Email is invalid"):t.email="Email is required",l!==u)t.password="Passwords didn't match";else if(l){let e="";for(let[a,s]of Object.entries({minLength:/^.{8,}$/,upperCase:/[A-Z]/,lowerCase:/[a-z]/,number:/[0-9]/,specialCharacter:/[!@#$%^&*(),.?|<>{}":';]/}))if(!s.test(l)){switch(a){case"minLength":e="Password must be 8 characters minimum.";break;case"upperCase":e="Password must contain at least 1 uppercase letter.";break;case"lowerCase":e="Password must contain at least 1 lowercase letter.";break;case"specialCharacter":e="Password must contain at least 1 special character.";break;case"number":e="Password must contain at least 1 number."}break}t.password=e}else t.password="Password is required";return t},o=s(1545);let l={username:"",email:"",password:"",passwordC:""},u={username:"",email:"",password:""};var d=()=>{let[e,a]=(0,n.useState)(l),[s,d]=(0,n.useState)(u),[c,m]=(0,n.useState)(!1),p="We have sent a verification email to:".concat(e.email.toString(),",please check it up and verify your account"),h=async a=>{a.preventDefault();try{if(""!==s.email||""!==s.username||""!==s.password)alert("Fix errors to proceed");else{let a=await t.Z.post("/api/auth/signup",{usr:e.username.toString(),email:e.email.toString(),pwd:e.password.toString()});switch(console.warn(a.data),a.status){case 201:m(!0);break;case 226:var r,n;a.data.error.username?d({username:null===(r=a.data.error)||void 0===r?void 0:r.username,email:"",password:""}):d({username:"",email:null===(n=a.data.error)||void 0===n?void 0:n.email,password:""})}}}catch(e){console.error("Signup failed:",e)}},w=e=>{let{name:s,value:r}=e.target;a(e=>({...e,[s]:[r]}))},v=a=>{d(i(e))};return(0,r.jsxs)(r.Fragment,{children:[c&&(0,r.jsx)(o.Z,{message:p,dur:30,display:m}),(0,r.jsx)("section",{className:"layout",children:(0,r.jsxs)("form",{className:"form",onSubmit:h,children:[(0,r.jsx)("h1",{children:"Signup"}),(0,r.jsx)("input",{type:"text",onBlur:v,placeholder:"Username",onChange:w,value:e.username,name:"username",required:!0}),(0,r.jsx)("p",{className:"error-message",children:null==s?void 0:s.username}),(0,r.jsx)("input",{type:"email",onBlur:v,value:e.email,placeholder:"Email",onChange:w,name:"email",required:!0}),(0,r.jsx)("p",{className:"error-message",children:null==s?void 0:s.email}),(0,r.jsx)("input",{type:"password",onBlur:v,placeholder:"Password",value:e.password,onChange:w,name:"password",required:!0}),(0,r.jsx)("input",{type:"password",onBlur:v,value:e.passwordC,placeholder:"Confirm password",onChange:w,name:"passwordC",required:!0}),(0,r.jsx)("p",{className:"error-message",children:null==s?void 0:s.password}),(0,r.jsx)("button",{type:"submit",children:"Sign Up"})]})})]})}},1545:function(e,a,s){"use strict";var r=s(7437);s(651),a.Z=e=>{let{message:a,dur:s,display:n}=e;return setTimeout(()=>n(!1),1e3*s),(0,r.jsxs)("div",{className:"notification",children:[(0,r.jsx)("p",{children:a}),(0,r.jsx)("button",{onClick:function(){n(!1)},children:"x"})]})}},6471:function(){},651:function(){}},function(e){e.O(0,[908,971,69,744],function(){return e(e.s=9882)}),_N_E=e.O()}]);